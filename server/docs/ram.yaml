#%RAML 1.0
---
title: Pomodoro API
baseUri: http://127.0.0.1:8000/api
mediaType: application/json
version: v1
protocols: [HTTP]

/auth:
  /login:
    post:
      description: Log-in a user using it's credentials.
      body:
        application/json:
          type: object
          example: |
            {
              "email": "test@test.com",
              "password": "Test1234"
            }
      responses:
        200:
          description: User logged in with correct credentials.
          body:
            application/json:
              type: object
              example: |
                {
                  "status": "You're logged in.",
                  "jwt": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkplYW4gUGllcnJlIiwiaWF0IjoxNTE2MjM5MDIyfQ.jnwOHy2wQm1LG5upI_y0lr0u9dN8yBQUWR0uKH15jWE"
                }
        304:
          description: Always logged
        404:
          description: User not found
          body:
            application/json:
              example: |
                {
                  "field": ["error"],
                  "message": ["L'email et/ou le mot de passe est incorrect"]
                }
            
securitySchemes:
  cookie-auth:
    description: |
      Custom authentication scheme for jwt cookie.
    type:
      x-custom
    describedBy:
      headers:
        Cookie:
          description: |
            jwt
          type: string